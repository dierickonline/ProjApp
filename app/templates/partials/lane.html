<div class="lane" data-lane-id="{{ lane.id }}">
    <div class="lane-header">
        <h4>{{ lane.title }}</h4>
        <button class="delete-btn"
                hx-delete="/lanes/{{ lane.id }}"
                hx-target="closest .lane"
                hx-swap="outerHTML swap:0.5s"
                hx-confirm="Are you sure you want to delete this lane and all its cards?"
                aria-label="Delete lane">Ã—</button>
    </div>

    <!-- Add Card Form -->
    <form hx-post="/cards"
          hx-target=".lane-cards"
          hx-swap="beforeend"
          class="add-card-form">
        <input type="hidden" name="lane_id" value="{{ lane.id }}">
        <div class="card-form-row">
            <input type="text" name="title" placeholder="Add a card..." required>
            <select name="category_ids" multiple class="category-select">
                {% for category in categories %}
                <option value="{{ category.id }}" style="background-color: {{ category.color }};">
                    {{ category.name }}
                </option>
                {% endfor %}
            </select>
        </div>
        <button type="submit">+ Add</button>
    </form>

    <!-- Cards Container -->
    <div class="lane-cards" data-lane-id="{{ lane.id }}">
        {% for card in lane.cards %}
            {% include 'partials/card.html' %}
        {% endfor %}
    </div>
</div>
